{"version":3,"file":"browser_jsonp.js","sourceRoot":"","sources":["../../../../../../modules/@angular/http/src/backends/browser_jsonp.ts"],"names":[],"mappings":";AAAA,uBAAyB,eAAe,CAAC,CAAA;AACzC,uBAAqB,uBAAuB,CAAC,CAAA;AAE7C,IAAI,gBAAgB,CAAC,cAAc,GAAG,CAAC,CAAC;AACV,kBAAU,GAAG,cAAc,CAAC;AAC1D,IAAI,gBAAgB,CAAC,iBAAiB,GAAyB,IAAI,CAAC;AACpE;;GAEG;AACH;IACE,EAAE,CAAC,CAAC,iBAAiB,KAAK,IAAI,CAAC,CAAC,CAAC;QAC/B,iBAAiB,GAAG,CAAkB,CAAwB,aAAO,CAAC,CAAC,CAAC,kBAAU,CAAC,GAAG,EAAE,CAAC;IAC3F,CAAC;IACD,MAAM,CAAC,iBAAiB,CAAC;AAC3B,CAAC;AACD;IACA;;;OAGG;IACH,KAAK,CAAC,GAAW;QACb,IAAI,gBAAgB,CAAC,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QAC7D,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,MAAM,CAAC,IAAI,CAAC;IACd,CAAC;IACH;;OAEG;IACH,aAAa,KAAa,MAAM,CAAC,QAAQ,cAAc,EAAE,EAAE,CAAC,CAAC,CAAC;IAC9D;;;OAGG;IACH,eAAe,CAAC,EAAU,IAAY,MAAM,CAAC,GAAG,kBAAU,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC;IAC9E;;;;OAIG;IACH,gBAAgB,CAAC,EAAU,EAAE,UAAe;QACxC,IAAI,gBAAgB,CAAC,WAAW,GAAG,oBAAoB,EAAE,CAAC;QAC1D,WAAW,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC;IAC/B,CAAC;IACH;;;OAGG;IACH,gBAAgB,CAAC,EAAU;QACvB,IAAI,gBAAgB,CAAC,WAAW,GAAG,oBAAoB,EAAE,CAAC;QAC1D,WAAW,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC;IACzB,CAAC;IACH;;;OAGG;IACH,IAAI,CAAC,IAAS,IAAI,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAE,gBAAgB,CAAA,CAAQ,CAAC,IAAI,CAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACjF;;;OAGG;IACH,OAAO,CAAC,IAAS;QACb,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACpB,IAAI,CAAC,UAAU,CAAC,WAAW,CAAE,gBAAgB,CAAA,CAAQ,CAAC,IAAI,CAAE,CAAC,CAAC,CAAC;QACjE,CAAC;IACH,CAAC;AAIH,CAAC;AAHD,kBAAkB,CAAQ,uBAAU,GAA0B;IAC9D,EAAE,IAAI,EAAE,iBAAU,EAAE;CACnB,CAAC;AApDW,oBAAY,eAqDxB,CAAA","sourcesContent":["import {Injectable} from '@angular/core';\nimport {global} from '../../src/facade/lang';\n\nlet /** @type {?} */ _nextRequestId = 0;\nexport const /** @type {?} */ JSONP_HOME = '__ng_jsonp__';\nvar /** @type {?} */ _jsonpConnections: {[key: string]: any} = null;\n/**\n * @return {?}\n */\nfunction _getJsonpConnections(): {[key: string]: any} {\n  if (_jsonpConnections === null) {\n    _jsonpConnections = ( /** @type {?} */((<{[key: string]: any}>global)))[JSONP_HOME] = {};\n  }\n  return _jsonpConnections;\n}\nexport class BrowserJsonp {\n/**\n * @param {?} url\n * @return {?}\n */\nbuild(url: string): any {\n    let /** @type {?} */ node = document.createElement('script');\n    node.src = url;\n    return node;\n  }\n/**\n * @return {?}\n */\nnextRequestID(): string { return `__req${_nextRequestId++}`; }\n/**\n * @param {?} id\n * @return {?}\n */\nrequestCallback(id: string): string { return `${JSONP_HOME}.${id}.finished`; }\n/**\n * @param {?} id\n * @param {?} connection\n * @return {?}\n */\nexposeConnection(id: string, connection: any) {\n    let /** @type {?} */ connections = _getJsonpConnections();\n    connections[id] = connection;\n  }\n/**\n * @param {?} id\n * @return {?}\n */\nremoveConnection(id: string) {\n    var /** @type {?} */ connections = _getJsonpConnections();\n    connections[id] = null;\n  }\n/**\n * @param {?} node\n * @return {?}\n */\nsend(node: any) { document.body.appendChild( /** @type {?} */((<Node>(node)))); }\n/**\n * @param {?} node\n * @return {?}\n */\ncleanup(node: any) {\n    if (node.parentNode) {\n      node.parentNode.removeChild( /** @type {?} */((<Node>(node))));\n    }\n  }\n/** @nocollapse */ static decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}